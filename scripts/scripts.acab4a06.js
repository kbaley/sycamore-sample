"use strict";angular.module("sampleApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","schoolServices","ui.bootstrap"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]);var schoolServices=angular.module("schoolServices",["ngResource"]);schoolServices.factory("School",["$resource",function(a){return a("https://app.sycamoreeducation.com/api/v1/School/1701",{},{get:{isArray:!1}})}]),schoolServices.factory("Student",["$resource",function(a){return a("https://app.sycamoreeducation.com/api/v1/Student/:studentId",{studentId:"@id"},{get:{isArray:!1}})}]),schoolServices.factory("Me",["$resource",function(a){return a("https://app.sycamoreeducation.com/api/v1/Me",{},{get:{isArray:!1}})}]),schoolServices.factory("Students",["$resource",function(a){return a("https://app.sycamoreeducation.com/api/v1/Family/:familyId/Students",{familyId:"@id"},{get:{isArray:!0}})}]),schoolServices.factory("Classes",["$resource",function(a){return a("https://app.sycamoreeducation.com/api/v1/Student/:studentId/Classes",{studentId:"@id"},{get:{isArray:!1}})}]),schoolServices.factory("News",["$resource",function(a){return a("https://app.sycamoreeducation.com/api/v1/School/1701/News/:newsId",{classid:"@id",newsId:"@id"},{})}]),angular.module("sampleApp").controller("MainCtrl",["$scope","$http","$q","$sce","School","Me","Students","News","Classes",function(a,b,c,d,e,f,g,h,i){function j(){a.me=f.get(function(){k()})}function k(){var b=a.me.FamilyID;g.get({familyId:b}).$promise.then(function(b){angular.forEach(b,function(a){m(a)}),a.students=b})}function l(){a.newsItems=h.query(function(a){angular.forEach(a,function(a){p[a.ID]=a})})}function m(a){a.classes=[],i.get({studentId:a.ID}).$promise.then(function(b){angular.forEach(b.Daylong,function(a){n(a)}),a.classes=b.Daylong})}function n(a){h.query({classid:a.ID}).$promise.then(function(b){a.news=b,angular.forEach(b,function(a){p[a.ID]=a})})}var o="6f9da01f0b53de10b522470a0db10168";b.defaults.headers.common.Authorization="Bearer "+o;var p=[];a.newsItems=[],a.classNews=[],a.me={},a.students=[],a.classes=[],a.showNews=function(a){h.get({newsId:a},function(b){p[a].Content="<div style='padding: 15px;'>"+b.Content+"</div>"})},a.skipValidation=function(a){return d.trustAsHtml(a)},l(),j()}]);